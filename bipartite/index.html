<!DOCTYPE html>
<meta charset="utf-8">
<style>
body{
	width:1200px;
	margin:10px auto;
}
svg text{
	font-size:12px;
}
rect{
	shape-rendering:crispEdges;
}
</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="biPartite.js"></script>
<script>
var file = "Ciao";

var dim_dim=[['Dimensión 1','Dimensión 5',0],['Dimensión 1','Dimensión 2',2],['Dimensión 1','Dimensión 3',3],['Dimensión 2','Dimensión 1',1],['Dimensión 2','Dimensión 2',1],['Dimensión 2','Dimensión 3',4],['Dimensión 3','Dimensión 1',1],['Dimensión 4','Dimensión 1',8],['Dimensión 4','Dimensión 3',20],['Dimensión 4','Dimensión 6',3],['Dimensión 5','Dimensión 1',2],['Dimensión 5','Dimensión 3',5],['Dimensión 5','Dimensión 4',2],['Dimensión 5','Dimensión 6',3],['Dimensión 5','Dimensión 7',2],['Dimensión 6','Dimensión 3',2],['Dimensión 6','Dimensión 4',2],['Dimensión 6','Dimensión 7',1],['Dimensión 7','Dimensión 3',6],['Dimensión 7','Dimensión 4',2],['Dimensión 7','Dimensión 7',1]];

 var dim_reto=[['Dimensión 1','Reto 1.1',0],['Dimensión 1','Reto 1.2',0],['Dimensión 1','Reto 1.3',0],['Dimensión 1','Reto 2.1',0],['Dimensión 1','Reto 2.2',0],['Dimensión 1','Reto 4.1',0],['Dimensión 1','Reto 4.2',0],['Dimensión 1','Reto 4.3',0],['Dimensión 1','Reto 4.4',0],['Dimensión 1','Reto 5.1',0],['Dimensión 1','Reto 5.2',0],['Dimensión 1','Reto 5.3',0],['Dimensión 1','Reto 6.2',0],['Dimensión 1','Reto 6.3',0],['Dimensión 1','Reto 7.1',0],['Dimensión 1','Reto 7.3',0],['Dimensión 2','Reto 4.5',2],['Dimensión 3','Reto 2.3',2],['Dimensión 4','Reto 3.1',2],['Dimensión 4','Reto 3.2',6],['Dimensión 4','Reto 6.1',1],['Dimensión 4','Reto 6.5',2],['Dimensión 4','Reto 7.2',6],['Dimensión 5','Reto 3.1',3],['Dimensión 5','Reto 6.4',1],['Dimensión 6','Reto 3.1',3],['Dimensión 7','Reto 2.3',1],['Dimensión 7','Reto 3.1',2]];

var reto_dim=[['Reto 1.1','Dimensión 2',1],['Reto 1.1','Dimensión 3',2],['Reto 1.2','Dimensión 7',0],['Reto 1.3','Dimensión 3',1],['Reto 2.1','Dimensión 1',21],['Reto 2.1','Dimensión 2',7],['Reto 2.1','Dimensión 3',7],['Reto 2.2','Dimensión 1',10],['Reto 2.2','Dimensión 2',5],['Reto 2.2','Dimensión 3',6],['Reto 2.3','Dimensión 7',0],['Reto 3.1','Dimensión 1',2],['Reto 3.1','Dimensión 3',1],['Reto 3.1','Dimensión 4',9],['Reto 3.2','Dimensión 1',3],['Reto 3.2','Dimensión 3',2],['Reto 3.2','Dimensión 4',2],['Reto 4.1','Dimensión 1',1],['Reto 4.2','Dimensión 7',0],['Reto 4.3','Dimensión 7',0],['Reto 4.4','Dimensión 6',3],['Reto 4.4','Dimensión 7',3],['Reto 4.5','Dimensión 7',0],['Reto 5.1','Dimensión 4',1],['Reto 5.2','Dimensión 7',0],['Reto 5.3','Dimensión 7',0],['Reto 6.1','Dimensión 1',1],['Reto 6.2','Dimensión 1',2],['Reto 6.2','Dimensión 3',1],['Reto 6.2','Dimensión 4',4],['Reto 6.3','Dimensión 5',2],['Reto 6.3','Dimensión 7',1],['Reto 6.4','Dimensión 1',1],['Reto 6.4','Dimensión 2',1],['Reto 6.5','Dimensión 1',2],['Reto 6.5','Dimensión 3',2],['Reto 6.5','Dimensión 4',4],['Reto 6.5','Dimensión 7',2],['Reto 7.1','Dimensión 5',1],['Reto 7.2','Dimensión 1',4],['Reto 7.2','Dimensión 3',8],['Reto 7.2','Dimensión 4',8],['Reto 7.3','Dimensión 1',1],['Reto 7.3','Dimensión 3',2]];

var reto_reto=[['Reto 1.1','Reto 1.1',0],['Reto 1.1','Reto 1.2',0],['Reto 1.1','Reto 1.3',0],['Reto 1.1','Reto 2.1',0],['Reto 1.1','Reto 2.2',2],['Reto 1.1','Reto 2.3',1],['Reto 1.1','Reto 4.1',0],['Reto 1.1','Reto 4.2',0],['Reto 1.1','Reto 4.3',0],['Reto 1.1','Reto 4.5',0],['Reto 1.1','Reto 5.2',0],['Reto 1.1','Reto 5.3',0],['Reto 1.1','Reto 6.2',0],['Reto 1.1','Reto 6.3',0],['Reto 1.1','Reto 7.1',0],['Reto 1.1','Reto 7.3',0],['Reto 1.2','Reto 3.2',1],['Reto 1.2','Reto 7.3',0],['Reto 1.3','Reto 2.3',1],['Reto 1.3','Reto 7.3',0],['Reto 2.1','Reto 3.1',4],['Reto 2.1','Reto 6.4',6],['Reto 2.2','Reto 7.3',0],['Reto 2.3','Reto 7.3',0],['Reto 3.2','Reto 7.3',0],['Reto 3.1','Reto 3.1',7],['Reto 4.1','Reto 7.3',0],['Reto 4.2','Reto 7.3',0],['Reto 4.3','Reto 7.3',0],['Reto 4.4','Reto 3.1',3],['Reto 4.4','Reto 3.2',6],['Reto 4.4','Reto 5.1',1],['Reto 4.4','Reto 6.5',3],['Reto 4.4','Reto 7.2',9],['Reto 4.5','Reto 7.3',0],['Reto 5.1','Reto 4.4',2],['Reto 5.1','Reto 6.1',1],['Reto 5.2','Reto 7.3',0],['Reto 5.3','Reto 1.1',1],['Reto 5.3','Reto 3.1',1],['Reto 6.1','Reto 7.2',3],['Reto 6.2','Reto 4.4',1],['Reto 6.3','Reto 7.3',0],['Reto 6.4','Reto 1.1',1],['Reto 6.5','Reto 2.2',3],['Reto 6.5','Reto 2.3',1],['Reto 6.5','Reto 3.1',6],['Reto 6.5','Reto 3.2',2],['Reto 6.5','Reto 4.4',2],['Reto 7.1','Reto 7.3',0],['Reto 7.2','Reto 2.3',3],['Reto 7.2','Reto 3.1',11],['Reto 7.2','Reto 6.5',3],['Reto 7.3','Reto 7.3',0]];

var width = 1100, height = 610, margin ={b:0, t:100, l:170, r:170};




var svg1 = d3.select("body")
	.append("svg").attr('width',width/2).attr('height',(height+margin.b+margin.t))
	.append("g").attr("transform","translate("+ margin.l+","+margin.t+")");

var svg2 = d3.select("body")
	.append("svg").attr('width',width/2).attr('height',(height+margin.b+margin.t))
	.append("g").attr("transform","translate("+ margin.l+","+margin.t+")");

var svg3 = d3.select("body")
	.append("svg").attr('width',width/2).attr('height',(height+margin.b+margin.t))
	.append("g").attr("transform","translate("+ margin.l+","+margin.t+")");

var svg4 = d3.select("body")
	.append("svg").attr('width',width/2).attr('height',(height+margin.b+margin.t))
	.append("g").attr("transform","translate("+ margin.l+","+margin.t+")");


var data1 = [ 
	{data:bP.partData(dim_dim,2), id:'dim_dim', header:["Dimensión","Dimensión", "Dimensiones que aportan a Dimensiones"]},
	
];


var data2 = [ 
	{data:bP.partData(dim_reto,2), id:'dim_reto', header:["Dimensión","Reto", "Dimensiones que aportan a Retos"]},
	
];

var data3 = [ 
	{data:bP.partData(reto_reto,2), id:'reto_reto', header:["Reto","Reto", "Retos que aportan a Retos"]},
	
	
];

var data4 = [ 
	{data:bP.partData(reto_dim,2), id:'reto_dim', header:["Reto","Dimensión", "Retos que aportan a Dimensiones"]},
	
];

var data5 = [ 
	{data:bP.partData(dim_dim,2), id:'dim_dim', header:["Dimensión","Dimensión", "Dimensiones que aportan a Dimensiones"]},
	{data:bP.partData(dim_reto,2), id:'dim_reto', header:["Dimensión","Reto", "Dimensiones que aportan a Retos"]},
	{data:bP.partData(reto_dim,2), id:'reto_dim', header:["Reto","Dimensión", "Retos que aportan a Dimensiones"]},
	{data:bP.partData(reto_reto,2), id:'reto_reto', header:["Reto","Reto", "Retos que aportan a Retos"]},

	
];


bP.draw(data1, svg1);
bP.draw(data2, svg2);
bP.draw(data3, svg3);
bP.draw(data4, svg4);
bP.draw(data5, svg4);
//bP.draw(data6, svg4);


</script>
</body>
<script type="text/javascript">
		// Creamos un array vacio

// Capturamos el click y lo pasamos a una funcion
document.onclick = captura_click;
window.onload = getVarsUrl;	
function captura_click(e) {
	// Funcion para capturar el click del raton
	var HaHechoClick;
	if (e == null) {
		// Si hac click un elemento, lo leemos
		HaHechoClick = event.srcElement;
	} else {
		// Si ha hecho click sobre un destino, lo leemos
		HaHechoClick = e.target;
	}
	// Añadimos el elemento al array de elementos
	// Una prueba con salida en consola
	//console.log("Contenido sobre lo que ha hecho click: "+ElementosClick.innerHTML);	
	console.log(HaHechoClick.id);
	

	if (HaHechoClick.id == "Elite"){
		//window.location.replace("./index2.html")
		//location.href='./index2.html';
	}
}

 function getVarsUrl(){
    var url= location.search.replace("?", "");
    var arrUrl = url.split("&");
    var urlObj={};   
    for(var i=0; i<arrUrl.length; i++){
        var x= arrUrl[i].split("=");
        urlObj[x[0]]=x[1]
    }
    file = urlObj.var;
    console.log(file);
}
</script>